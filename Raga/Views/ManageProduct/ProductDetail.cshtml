@model ManageProductDto

<div class="container py-5" style="color: white;">
    <div class="row">
        <div class="col-md-6">
            <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="@Model.ImageUrl" class="d-block w-50" alt="@Model.Name">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <h2 class="fw-bold">@Model.Name</h2>
            <h4 class="text-danger fw-bold">@Model.Price.ToString("N0")đ</h4>
            <button class="btn btn-danger w-100 mb-2" onclick="addToCart(@Model.ProductId)">Thêm vào giỏ hàng</button>
            <ul class="list-unstyled mt-3">
                <li>✅ Miễn phí vận chuyển với đơn hàng trên 1.5 triệu</li>
                <li>✅ Cam kết hàng chính hãng</li>
            </ul>

            <div class="mt-4">
                <h5>Mô tả sản phẩm</h5>
                <p>@Html.Raw(Model.Description)</p>
            </div>
        </div>
    </div>
</div>

<div id="notification" class="alert alert-success" style="display:none; position:fixed; top:10px; right:10px; z-index:1000;">
    Sản phẩm đã được thêm vào giỏ hàng.
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function addToCart(productId) {
        $.ajax({
            url: '@Url.Action("AddToCart", "Cart")',
            type: 'POST',
            data: { id: productId },
            success: function () {
                const notification = document.getElementById('notification');
                notification.style.display = 'block';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000); 
            },
            error: function () {
                alert('Có lỗi xảy ra khi thêm sản phẩm vào giỏ hàng.');
            }
        });
    }
</script>